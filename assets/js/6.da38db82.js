(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{180:function(t,e,n){},182:function(t,e,n){},196:function(t,e,n){},197:function(t,e,n){},198:function(t,e,n){},199:function(t,e,n){},200:function(t,e,n){},202:function(t,e,n){},203:function(t,e,n){},204:function(t,e,n){},229:function(t,e,n){"use strict";var s=n(180);n.n(s).a},231:function(t,e,n){"use strict";var s=n(182);n.n(s).a},286:function(t,e,n){"use strict";var s=n(196);n.n(s).a},287:function(t,e,n){"use strict";var s=n(197);n.n(s).a},288:function(t,e,n){"use strict";var s=n(198);n.n(s).a},289:function(t,e,n){"use strict";var s=n(199);n.n(s).a},290:function(t,e,n){"use strict";var s=n(200);n.n(s).a},307:function(t,e,n){"use strict";var s=n(202);n.n(s).a},308:function(t,e,n){"use strict";n.r(e);n(49);!function(t){var e='<svg><symbol id="icon-bitbucket" viewBox="0 0 1024 1024"><path d="M575.330231 490.861714q4.534857 35.986286-28.891429 57.709714t-63.707429 3.437714q-22.308571-9.728-30.573714-33.133714t-0.292571-46.884571 29.696-33.133714q20.553143-10.313143 41.398857-6.875429t36.571429 20.260571 15.725714 38.546286zM638.745088 478.866286q-7.972571-61.147429-64.585143-93.696t-112.566857-7.460571q-35.986286 16.018286-57.417143 50.541714t-19.748571 74.020571q2.267429 52.004571 44.251429 88.576t94.573714 32.036571q52.004571-4.534857 86.820571-47.981714t28.598857-96.036571zM775.375945 169.179429q-11.410286-15.433143-32.036571-25.453714t-33.133714-12.580571-40.594286-7.168q-166.253714-26.843429-323.437714 1.170286-24.576 4.022857-37.741714 6.875429t-31.451429 12.580571-28.598857 24.576q17.115429 16.018286 43.446857 25.965714t41.984 12.580571 50.029714 6.582857q130.267429 16.603429 256 0.585143 35.986286-4.534857 51.126857-6.875429t41.398857-12.288 42.861714-26.550857zM807.924517 760.539429q-4.534857 14.848-8.850286 43.739429t-7.972571 47.981714-16.310857 40.009143-33.133714 32.256q-49.152 27.428571-108.251429 40.886857t-115.419429 12.580571-115.126857-10.605714q-26.258286-4.534857-46.592-10.313143t-43.739429-15.433143-41.691429-24.868571-29.696-35.108571q-14.262857-54.857143-32.548571-166.838857l3.437714-9.142857 10.313143-5.12q127.414857 84.553143 289.426286 84.553143t290.011429-84.553143q11.995429 3.437714 13.677714 13.165714t-2.852571 25.746286-4.534857 21.138286zM911.348517 211.456q-14.848 95.451429-63.414857 374.272-2.852571 17.115429-15.433143 32.036571t-24.868571 22.820571-31.158857 17.700571q-144.018286 71.972571-348.598857 50.322286-141.677714-15.433143-225.133714-79.433143-8.557714-6.875429-14.555429-15.140571t-9.728-19.968-5.12-19.456-3.437714-22.601143-3.145143-19.968q-5.12-28.598857-15.140571-85.723429t-16.018286-92.306286-13.458286-84.260571-12.580571-90.258286q1.682286-14.848 10.020571-27.721143t17.993143-21.430857 25.746286-17.115429 26.258286-12.873143 27.428571-10.605714q71.460571-26.258286 178.834286-36.571429 216.576-21.138286 386.267429 28.598857 88.576 26.258286 122.88 69.705143 9.142857 11.410286 9.435429 29.110857t-3.145143 30.866286z"  ></path></symbol><symbol id="icon-github" viewBox="0 0 1024 1024"><path d="M512 12.64c-282.752 0-512 229.216-512 512 0 226.208 146.72 418.144 350.144 485.824 25.6 4.736 35.008-11.104 35.008-24.64 0-12.192-0.48-52.544-0.704-95.328-142.464 30.976-172.512-60.416-172.512-60.416-23.296-59.168-56.832-74.912-56.832-74.912-46.464-31.776 3.52-31.136 3.52-31.136 51.392 3.616 78.464 52.768 78.464 52.768 45.664 78.272 119.776 55.648 148.992 42.56 4.576-33.088 17.856-55.68 32.512-68.48-113.728-12.928-233.28-56.864-233.28-253.024 0-55.904 20-101.568 52.768-137.44-5.312-12.896-22.848-64.96 4.96-135.488 0 0 43.008-13.76 140.832 52.48 40.832-11.36 84.64-17.024 128.16-17.248 43.488 0.192 87.328 5.888 128.256 17.248 97.728-66.24 140.64-52.48 140.64-52.48 27.872 70.528 10.336 122.592 5.024 135.488 32.832 35.84 52.704 81.536 52.704 137.44 0 196.64-119.776 239.936-233.792 252.64 18.368 15.904 34.72 47.04 34.72 94.816 0 68.512-0.608 123.648-0.608 140.512 0 13.632 9.216 29.6 35.168 24.576 203.328-67.776 349.856-259.616 349.856-485.76 0-282.784-229.248-512-512-512z"  ></path></symbol><symbol id="icon-loading" viewBox="0 0 1024 1024"><path d="M843.307 742.24c0 3.217 2.607 5.824 5.824 5.824s5.824-2.607 5.824-5.824a5.823 5.823 0 0 0-5.824-5.824 5.823 5.823 0 0 0-5.824 5.824zM714.731 874.912c0 6.398 5.186 11.584 11.584 11.584s11.584-5.186 11.584-11.584-5.186-11.584-11.584-11.584-11.584 5.186-11.584 11.584zM541.419 943.2c0 9.614 7.794 17.408 17.408 17.408s17.408-7.794 17.408-17.408-7.794-17.408-17.408-17.408-17.408 7.794-17.408 17.408z m-186.56-9.152c0 12.795 10.373 23.168 23.168 23.168s23.168-10.373 23.168-23.168-10.373-23.168-23.168-23.168-23.168 10.373-23.168 23.168zM189.355 849.12c0 16.012 12.98 28.992 28.992 28.992s28.992-12.98 28.992-28.992-12.98-28.992-28.992-28.992-28.992 12.98-28.992 28.992zM74.731 704.736c0 19.228 15.588 34.816 34.816 34.816s34.816-15.588 34.816-34.816-15.588-34.816-34.816-34.816-34.816 15.588-34.816 34.816z m-43.008-177.28c0 22.41 18.166 40.576 40.576 40.576s40.576-18.166 40.576-40.576-18.166-40.576-40.576-40.576-40.576 18.166-40.576 40.576z m35.392-176.128c0 25.626 20.774 46.4 46.4 46.4s46.4-20.774 46.4-46.4c0-25.626-20.774-46.4-46.4-46.4-25.626 0-46.4 20.774-46.4 46.4z m106.176-142.016c0 28.843 23.381 52.224 52.224 52.224s52.224-23.381 52.224-52.224c0-28.843-23.381-52.224-52.224-52.224-28.843 0-52.224 23.381-52.224 52.224z m155.904-81.344c0 32.024 25.96 57.984 57.984 57.984s57.984-25.96 57.984-57.984-25.96-57.984-57.984-57.984-57.984 25.96-57.984 57.984z m175.104-5.056c0 35.24 28.568 63.808 63.808 63.808s63.808-28.568 63.808-63.808c0-35.24-28.568-63.808-63.808-63.808-35.24 0-63.808 28.568-63.808 63.808z m160.32 72.128c0 38.421 31.147 69.568 69.568 69.568s69.568-31.147 69.568-69.568-31.147-69.568-69.568-69.568-69.568 31.147-69.568 69.568z m113.92 135.488c0 41.638 33.754 75.392 75.392 75.392s75.392-33.754 75.392-75.392-33.754-75.392-75.392-75.392-75.392 33.754-75.392 75.392z m45.312 175.488c0 44.854 36.362 81.216 81.216 81.216s81.216-36.362 81.216-81.216c0-44.854-36.362-81.216-81.216-81.216-44.854 0-81.216 36.362-81.216 81.216z" fill="" ></path></symbol><symbol id="icon-gitlab" viewBox="0 0 1024 1024"><path d="M59.544137 403.419429L512.115566 983.405714 16.09728 623.396571a39.936 39.936 0 0 1-14.299429-43.995428l57.709715-176.018286z m264.009143 0h377.161143L512.152137 983.405714zM210.40128 53.723429l113.152 349.696H59.544137l113.152-349.696a20.041143 20.041143 0 0 1 37.705143 0z m754.285714 349.696l57.709715 176.018285a39.862857 39.862857 0 0 1-14.299429 43.995429l-496.018286 360.009143 452.571429-579.986286z m0 0h-264.009143l113.152-349.696a20.041143 20.041143 0 0 1 37.705143 0z" fill="" ></path></symbol><symbol id="icon-like" viewBox="0 0 1024 1024"><path d="M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4-20.5-21.5-48.1-33.4-77.9-33.4-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-0.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81z m636.4-353l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5c5.2-18.9 22.5-32.2 42.2-32.3 7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"  ></path></symbol><symbol id="icon-unlike" viewBox="0 0 1024 1024"><path d="M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4-8.3-3.6-17.2-5.4-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81z m627.2 160.4H496.8l9.6 198.4c0.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7-19.6-0.1-36.9-13.4-42.2-32.3L329 459.2V172h415.4c20.4 9.2 33.6 29.4 33.6 51.8 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 19.1-11 37.5-28.8 48.4z"  ></path></symbol><symbol id="icon-heart" viewBox="0 0 1024 1024"><path d="M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"  ></path></symbol><symbol id="icon-error" viewBox="0 0 1024 1024"><path d="M512 720m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"  ></path><path d="M480 416v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8z"  ></path><path d="M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48z m-783.5-27.9L512 239.9l339.8 588.2H172.2z"  ></path></symbol></svg>',n=function(t,e){e.firstChild?function(t,e){e.parentNode.insertBefore(t,e)}(t,e.firstChild):e.appendChild(t)};if(function(){var t=document.getElementsByTagName("script");return t[t.length-1]}().getAttribute("data-injectcss")&&!t.__iconfont__svg__cssinject__){t.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}!function(e){document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(e,0):document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t,!1),e()},!1):document.attachEvent&&function(t,e){var n=t.document,s=!1,r=function(){s||(s=!0,e())};(function t(){try{n.documentElement.doScroll("left")}catch(e){return void setTimeout(t,50)}r()})(),n.onreadystatechange=function(){"complete"==n.readyState&&(n.onreadystatechange=null,r())}}(t,e)}(function(){var t,s;(t=document.createElement("div")).innerHTML=e,e=null,(s=t.getElementsByTagName("svg")[0])&&(s.setAttribute("aria-hidden","true"),s.style.position="absolute",s.style.width=0,s.style.height=0,s.style.overflow="hidden",n(s,document.body))})}(window)},309:function(t,e,n){"use strict";var s=n(203);n.n(s).a},310:function(t,e,n){"use strict";var s=n(204);n.n(s).a},321:function(t,e,n){"use strict";n.r(e);n(316);var s=n(173),r=n.n(s),a=(n(314),n(313),n(168),n(172)),c={name:"TransitionFade"},i=(n(310),n(0)),o=Object(i.a)(c,function(){var t=this.$createElement;return(this._self._c||t)("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[this._t("default")],2)},[],!1,null,"50563fc4",null).exports,u={name:"VssueButton",props:{disabled:{type:Boolean,required:!1,default:!1},type:{type:String,required:!1,default:"default"}},computed:{buttonClass:function(){return"vssue-button-".concat(this.type)}}},h=(n(309),Object(i.a)(u,function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"vssue-button",class:this.buttonClass,attrs:{disabled:this.disabled}},[this._t("default")],2)},[],!1,null,"1b014712",null).exports),l=(n(22),n(60),{name:"VssueIcon",props:{name:{type:String,required:!0},size:{type:String,required:!1,default:"1em"}},computed:{iconClass:function(){return"icon-".concat(this.name)},xlinkHref:function(){return"#".concat(this.iconClass)},iconStyle:function(){return{"font-size":this.size}}},created:function(){n(308)}}),p=(n(307),Object(i.a)(l,function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"vssue-icon",class:this.iconClass,style:this.iconStyle,attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":this.xlinkHref}})])},[],!1,null,"61329238",null).exports),d=n(306),m=n.n(d),f=n(303),v=n.n(f),b=function(t,e){var n=m.a.stringify(e);return n=""===n?"":"?".concat(n),"".concat(t).concat(n)},w=function(t,e){var n=t.replace(/\/$/,""),s=e.replace(/^\//,"");return"".concat(n,"/").concat(s)},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return m.a.parseUrl(t).url},g=function(t){return m.a.parse(t)},y=function(t){return m.a.stringify(t)},x=function(t){return v()(t,"YYYY-MM-DD HH:mm:ss")},_={name:"VssueComment",components:{VssueIcon:p},props:{comment:{type:Object,required:!0},createReaction:{type:Function,required:!1,default:function(){}}},computed:{content:function(){return this.comment.content},contentRaw:function(){return this.comment.contentRaw},author:function(){return this.comment.author},createdAt:function(){return x(this.comment.createdAt)},updatedAt:function(){return x(this.comment.updatedAt)},showReactions:function(){return Boolean(this.comment.reactions)}},methods:{reply:function(){var t=this.contentRaw.replace(/\n/g,"\n> "),e="@".concat(this.author.username,"\n> ").concat(t,"\n");this.$emit("reply",e)}}},C=(n(290),Object(i.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vssue-comment"},[n("div",{staticClass:"vssue-comment-avatar"},[n("a",{attrs:{href:t.author.homepage,title:t.author.username,target:"_blank"}},[n("img",{attrs:{src:t.author.avatar}})])]),n("div",{staticClass:"vssue-comment-body"},[t._t("body",[n("div",{staticClass:"vssue-comment-header"},[n("span",{staticClass:"vssue-comment-author"},[n("a",{attrs:{href:t.author.homepage,title:t.author.username,target:"_blank"}},[t._v("\n            "+t._s(t.author.username)+"\n          ")])]),n("span",{staticClass:"vssue-comment-created-at"},[t._v("\n          "+t._s(t.createdAt)+"\n        ")])]),n("div",{staticClass:"vssue-comment-main"},[n("article",{staticClass:"markdown-body",domProps:{innerHTML:t._s(t.content)}})]),n("div",{staticClass:"vssue-comment-footer"},[t.showReactions?n("span",{staticClass:"vssue-comment-reactions"},[n("span",{staticClass:"vssue-comment-reaction",on:{click:function(e){t.createReaction({commentId:t.comment.id,reaction:"heart"})}}},[n("VssueIcon",{attrs:{name:"heart"}}),n("span",[t._v(t._s(t.comment.reactions.heart))])],1),n("span",{staticClass:"vssue-comment-reaction",on:{click:function(e){t.createReaction({commentId:t.comment.id,reaction:"+1"})}}},[n("VssueIcon",{attrs:{name:"like"}}),n("span",[t._v(t._s(t.comment.reactions["+1"]))])],1),n("span",{staticClass:"vssue-comment-reaction",on:{click:function(e){t.createReaction({commentId:t.comment.id,reaction:"-1"})}}},[n("VssueIcon",{attrs:{name:"unlike"}}),n("span",[t._v(t._s(t.comment.reactions[-1]))])],1)]):t._e(),n("span",{staticClass:"vssue-comment-reply",on:{click:t.reply}},[t._v("\n          Reply\n        ")])])])],2)])},[],!1,null,"1812831c",null).exports),z=(n(77),{name:"VssueNewCommentInput",props:{disabled:{type:Boolean,required:!1,default:!0},value:{type:String,required:!1,default:""}},computed:{content:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},contentRows:function(){return this.content.split("\n").length-1},rows:function(){return this.contentRows<3?5:this.contentRows+2},placeholder:function(){return this.disabled?"Login to leave a comment":"Leave a comment. Styling with Markdown is supported"}},methods:{focus:function(){this.$refs.input.focus()}}}),I=(n(289),Object(i.a)(z,function(){var t=this,e=t.$createElement;return(t._self._c||e)("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"input",staticClass:"vssue-new-comment-input",attrs:{rows:t.rows,disabled:t.disabled,placeholder:t.placeholder,spellcheck:!1},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})},[],!1,null,"096fea7e",null).exports),j={name:"VssuePoweredBy",computed:{title:function(){return"Vssue v".concat("0.0.3")}}},T=Object(i.a)(j,function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"vssue-powered-by"},[e("span",[this._v("Powered by ")]),e("a",{attrs:{href:"https://github.com/meteorlxy/vssue",target:"_blank",title:this.title}},[this._v("\n    Vssue\n  ")])])},[],!1,null,null,null).exports,O={name:"VssueStatusFailed",components:{VssueIcon:p}},A=(n(288),Object(i.a)(O,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vssue-status-failed"},[e("hr"),e("VssueIcon",{attrs:{name:"error",size:"20px"}}),e("span",[this._v("Failed to load comments")])],1)},[],!1,null,"25bd07d2",null).exports),V={name:"VssueStatusInitializing",components:{VssueIcon:p}},L=(n(287),Object(i.a)(V,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vssue-status-initializing"},[e("hr"),e("VssueIcon",{attrs:{name:"loading",size:"20px"}}),e("p",[this._v("Loading comments...")])],1)},[],!1,null,"20ba9c2b",null).exports),$={name:"VssueStatusRequireLogin",components:{VssueButton:h}},q=(n(286),Object(i.a)($,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vssue-status-require-login"},[n("hr"),n("VssueButton",{attrs:{type:"primary"},nativeOn:{click:function(e){t.$emit("login")}}},[t._v("\n    "+t._s("Login to view comments")+"\n  ")])],1)},[],!1,null,"25a99bf5",null).exports),R={data:function(){return{user:null,accessToken:null}},computed:{accessTokenKey:{get:function(){return"Vssue.".concat(this.config.platform,".access_token")}},isLogined:function(){return null!==this.accessToken&&null!==this.user},isAdmin:function(){return this.isLogined&&(this.user.username===this.config.owner||this.config.admins.contains(this.user.username))}},methods:{handleAuthorize:function(){var t=Object(a.a)(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.handleAuthorize();case 2:if(!(e=t.sent)){t.next=10;break}return this.setAccessToken(e),t.next=7,this.api.getUser({accessToken:e});case 7:this.user=t.sent,t.next=18;break;case 10:if(!this.accessToken){t.next=16;break}return t.next=13,this.api.getUser({accessToken:this.accessToken});case 13:this.user=t.sent,t.next=18;break;case 16:this.setAccessToken(null),this.user=null;case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleLogin:function(){this.api.redirectAuthorize()},handleLogout:function(){this.setAccessToken(null),this.user=null},getAccessToken:function(){return window.localStorage.getItem(this.accessTokenKey)},setAccessToken:function(t){null===t?window.localStorage.removeItem(this.accessTokenKey):window.localStorage.setItem(this.accessTokenKey,t),this.accessToken=t}}},S=(n(21),n(226),n(195),n(285)),B=n.n(S),M=n(186),E=n(185),U=n(184),H=n.n(U),F=function(){function t(e){var n=e.owner,s=e.repo,r=e.labels,a=e.clientId,c=e.clientSecret,i=e.state;Object(M.a)(this,t),this.owner=n,this.repo=s,this.labels=r,this.clientId=a,this.clientSecret=c,this.state=i,this.$http=H.a.create({baseURL:"https://api.github.com",headers:{Accept:"application/vnd.github.v3+json"}}),this.$http.interceptors.response.use(function(t){return t.data.error?B.a.reject(t.data.error_description):t})}return Object(E.a)(t,[{key:"redirectAuthorize",value:function(){window.location.href=b("https://github.com/login/oauth/authorize",{client_id:this.clientId,redirect_uri:window.location.href,scope:"public_repo",state:this.state})}},{key:"handleAuthorize",value:function(){var t=Object(a.a)(r.a.mark(function t(){var e,n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=g(window.location.search)).code){t.next=13;break}if(e.state===this.state){t.next=4;break}return t.abrupt("return",null);case 4:return n=e.code,delete e.code,delete e.state,s=b(k(),e)+window.location.hash,window.history.replaceState(null,null,s),t.next=11,this.getAccessToken({code:n});case 11:return a=t.sent,t.abrupt("return",a);case 13:return t.abrupt("return",null);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.code,t.next=3,this.$http.post("https://cors-anywhere.herokuapp.com/".concat("https://github.com/login/oauth/access_token"),{client_id:this.clientId,client_secret:this.clientSecret,code:n},{headers:{Accept:"application/json"}});case 3:return s=t.sent,a=s.data.access_token,t.abrupt("return",a);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getUser",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accessToken,t.next=3,this.$http.get("/user",{headers:{Authorization:"token ".concat(n)}});case 3:return s=t.sent,a=s.data,t.abrupt("return",D(a));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getIssues",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accessToken,s={params:{labels:this.labels,timestamp:Date.now()}},n&&(s.headers={Authorization:"token ".concat(n)}),t.next=5,this.$http.get("repos/".concat(this.owner,"/").concat(this.repo,"/issues"),s);case 5:return a=t.sent,c=a.data,t.abrupt("return",c.map(N));case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getComments",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a,c,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.issueId,s=e.accessToken,a={params:{timestamp:Date.now()},headers:{Accept:["application/vnd.github.v3.raw+json","application/vnd.github.v3.html+json","application/vnd.github.squirrel-girl-preview"]}},s&&(a.headers.Authorization="token ".concat(s)),t.next=5,this.$http.get("repos/".concat(this.owner,"/").concat(this.repo,"/issues/").concat(n,"/comments"),a);case 5:return c=t.sent,i=c.data,t.abrupt("return",i.map(P));case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"createIssue",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a,c,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.title,s=e.content,a=e.accessToken,t.next=3,this.$http.post("repos/".concat(this.owner,"/").concat(this.repo,"/issues"),{title:n,body:s,labels:this.labels.split(",")},{headers:{Authorization:"token ".concat(a)}});case 3:return c=t.sent,i=c.data,t.abrupt("return",N(i));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"createIssueComment",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a,c,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.issueId,s=e.content,a=e.accessToken,t.next=3,this.$http.post("repos/".concat(this.owner,"/").concat(this.repo,"/issues/").concat(n,"/comments"),{body:s},{headers:{Authorization:"token ".concat(a)}});case 3:return c=t.sent,i=c.data,t.abrupt("return",P(i));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"createIssueReaction",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.issueId,s=e.reaction,a=e.accessToken,t.prev=1,t.next=4,this.$http.post("repos/".concat(this.owner,"/").concat(this.repo,"/issues/").concat(n,"/reactions"),{content:s},{headers:{Authorization:"token ".concat(a)}});case 4:return t.abrupt("return",!0);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",!1);case 10:case"end":return t.stop()}},t,this,[[1,7]])}));return function(e){return t.apply(this,arguments)}}()},{key:"createCommentReaction",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commentId,s=e.reaction,a=e.accessToken,t.prev=1,t.next=4,this.$http.post("repos/".concat(this.owner,"/").concat(this.repo,"/issues/comments/").concat(n,"/reactions"),{content:s},{headers:{Authorization:"token ".concat(a),Accept:"application/vnd.github.squirrel-girl-preview"}});case 4:return t.abrupt("return",!0);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",!1);case 10:case"end":return t.stop()}},t,this,[[1,7]])}));return function(e){return t.apply(this,arguments)}}()}]),t}();function D(t){return{username:t.login,avatar:t.avatar_url,homepage:t.html_url}}function N(t){return{id:t.number,title:t.title,content:t.body,commentsCount:t.comments}}function P(t){return{id:t.id,content:t.body_html,contentRaw:t.body,author:D(t.user),createdAt:t.created_at,updatedAt:t.updated_at,reactions:t.reactions}}var K=n(234),Y=n.n(K),J=function(){function t(e){var n=e.baseURL,s=void 0===n?"https://gitlab.com":n,r=e.owner,a=e.repo,c=e.labels,i=e.clientId,o=e.clientSecret,u=e.state;Object(M.a)(this,t),this.baseURL=s,this.owner=r,this.repo=a,this.labels=c,this.clientId=i,this.clientSecret=o,this.state=u,this.$http=H.a.create({baseURL:s,headers:{Accept:"application/json"}})}return Object(E.a)(t,[{key:"redirectAuthorize",value:function(){window.location.href=b(w(this.baseURL,"oauth/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,response_type:"code",state:this.state})}},{key:"handleAuthorize",value:function(){var t=Object(a.a)(r.a.mark(function t(){var e,n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=g(window.location.search)).code){t.next=13;break}if(e.state===this.state){t.next=4;break}return t.abrupt("return",null);case 4:return n=e.code,delete e.code,delete e.state,s=b(k(),e)+window.location.hash,window.history.replaceState(null,null,s),t.next=11,this.getAccessToken({code:n});case 11:return a=t.sent,t.abrupt("return",a);case 13:return t.abrupt("return",null);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.code,t.next=3,this.$http.post("https://cors-anywhere.herokuapp.com/".concat(w(this.baseURL,"oauth/token")),{client_id:this.clientId,client_secret:this.clientSecret,code:n,grant_type:"authorization_code",redirect_uri:window.location.href});case 3:return s=t.sent,a=s.data.access_token,t.abrupt("return",a);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getUser",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accessToken,t.next=3,this.$http.get("api/v4/user",{headers:{Authorization:"Bearer ".concat(n)}});case 3:return s=t.sent,a=s.data,t.abrupt("return",Z(a));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getIssues",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accessToken,t.next=3,this.$http.get("api/v4/projects/".concat(this.repo,"/issues"),{params:{labels:this.labels},headers:{Authorization:"Bearer ".concat(n)}});case 3:return s=t.sent,a=s.data,t.abrupt("return",a.map(G));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getComments",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a,c,i,o,u,h,l,p;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.issueId,s=e.accessToken,t.next=3,this.$http.get("api/v4/projects/".concat(this.repo,"/issues/").concat(n,"/notes"),{params:{},headers:{Authorization:"Bearer ".concat(s)}});case 3:a=t.sent,c=a.data,i=!0,o=!1,u=void 0,t.prev=8,h=Y()(c);case 10:if(i=(l=h.next()).done){t.next=18;break}return p=l.value,t.next=14,this.getMarkdownContent({contentRaw:p.body});case 14:p.body_html=t.sent;case 15:i=!0,t.next=10;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(8),o=!0,u=t.t0;case 24:t.prev=24,t.prev=25,i||null==h.return||h.return();case 27:if(t.prev=27,!o){t.next=30;break}throw u;case 30:return t.finish(27);case 31:return t.finish(24);case 32:return t.abrupt("return",c.map(Q));case 33:case"end":return t.stop()}},t,this,[[8,20,24,32],[25,,27,31]])}));return function(e){return t.apply(this,arguments)}}()},{key:"createIssue",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a,c,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.title,s=e.content,a=e.accessToken,t.next=3,this.$http.post("api/v4/projects/".concat(this.repo,"/issues"),{title:n,description:s,labels:this.labels},{headers:{Authorization:"Bearer ".concat(a)}});case 3:return c=t.sent,i=c.data,t.abrupt("return",G(i));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"createIssueComment",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a,c,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.issueId,s=e.content,a=e.accessToken,t.next=3,this.$http.post("api/v4/projects/".concat(this.repo,"/issues/").concat(n,"/notes"),{body:s},{headers:{Authorization:"Bearer ".concat(a)}});case 3:return c=t.sent,i=c.data,t.abrupt("return",Q(i));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"createIssueReaction",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.issueId,s=e.reaction,a=e.accessToken,t.prev=1,t.next=4,this.$http.post("api/v4/projects/".concat(this.repo,"/issues/").concat(n,"/award_emoji"),{name:W(s)},{headers:{Authorization:"Bearer ".concat(a)}});case 4:return t.abrupt("return",!0);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",!1);case 10:case"end":return t.stop()}},t,this,[[1,7]])}));return function(e){return t.apply(this,arguments)}}()},{key:"createCommentReaction",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.issueId,s=e.commentId,a=e.reaction,c=e.accessToken,t.prev=1,t.next=4,this.$http.post("api/v4/projects/".concat(this.repo,"/issues/").concat(n,"/notes/").concat(s,"/award_emoji"),{name:W(a)},{headers:{Authorization:"Bearer ".concat(c)}});case 4:return t.abrupt("return",!0);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",!1);case 10:case"end":return t.stop()}},t,this,[[1,7]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getMarkdownContent",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.contentRaw,t.next=3,this.$http.post("api/v4/markdown",{text:n});case 3:return s=t.sent,a=s.data.html,t.abrupt("return",a);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),t}();function Z(t){return{username:t.username,avatar:t.avatar_url,homepage:t.web_url}}function G(t){return{id:t.iid,title:t.title,content:t.description,commentsCount:t.user_notes_count}}function Q(t){return{id:t.id,content:t.body_html,contentRaw:t.body,author:Z(t.author),createdAt:t.created_at,updatedAt:t.updated_at,reactions:null}}function W(t){return"+1"===t?"thumbsup":"-1"===t?"thumbsdown":t}n(10),n(16);var X=function(){function t(e){var n=e.owner,s=e.repo,r=e.clientId,a=e.clientSecret,c=e.state;Object(M.a)(this,t),this.owner=n,this.repo=s,this.clientId=r,this.clientSecret=a,this.state=c,this.$http=H.a.create({baseURL:"https://api.bitbucket.org/2.0/",headers:{Accept:"application/json"}})}return Object(E.a)(t,[{key:"redirectAuthorize",value:function(){window.location.href=b("https://bitbucket.org/site/oauth2/authorize",{client_id:this.clientId,redirect_uri:window.location.href,response_type:"code"})}},{key:"handleAuthorize",value:function(){var t=Object(a.a)(r.a.mark(function t(){var e,n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=g(window.location.search)).code){t.next=10;break}return n=e.code,delete e.code,s=b(k(),e)+window.location.hash,window.history.replaceState(null,null,s),t.next=8,this.getAccessToken({code:n});case 8:return a=t.sent,t.abrupt("return",a);case 10:return t.abrupt("return",null);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.code,t.next=3,this.$http.post("https://cors-anywhere.herokuapp.com/".concat("https://bitbucket.org/site/oauth2/access_token"),y({grant_type:"authorization_code",redirect_uri:window.location.href,code:n}),{headers:{"Content-Type":"application/x-www-form-urlencoded"},auth:{username:this.clientId,password:this.clientSecret}});case 3:return s=t.sent,a=s.data.access_token,t.abrupt("return",a);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getUser",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.accessToken,t.next=3,this.$http.get("/user",{headers:{Authorization:"Bearer ".concat(n)}});case 3:return s=t.sent,a=s.data,t.abrupt("return",tt(a));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getIssues",value:function(){var t=Object(a.a)(r.a.mark(function t(){var e,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("repositories/".concat(this.owner,"/").concat(this.repo,"/issues"),{params:{timestamp:Date.now()}});case 2:return e=t.sent,n=e.data.values,t.abrupt("return",n.map(et));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getComments",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.issueId,t.next=3,this.$http.get("repositories/".concat(this.owner,"/").concat(this.repo,"/issues/").concat(n,"/comments"),{params:{timestamp:Date.now()},headers:{Accept:["application/vnd.github.v3.raw+json","application/vnd.github.v3.html+json","application/vnd.github.squirrel-girl-preview"]}});case 3:return s=t.sent,a=s.data.values,t.abrupt("return",a.map(nt));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"createIssue",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a,c,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.title,s=e.content,a=e.accessToken,t.next=3,this.$http.post("repositories/".concat(this.owner,"/").concat(this.repo,"/issues"),{title:n,content:{raw:s},priority:"trivial",type:"task"},{headers:{Authorization:"Bearer ".concat(a)}});case 3:return c=t.sent,i=c.data,t.abrupt("return",et(i));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"createIssueComment",value:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s,a,c,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.issueId,s=e.content,a=e.accessToken,t.next=3,this.$http.post("repositories/".concat(this.owner,"/").concat(this.repo,"/issues/").concat(n,"/comments"),{content:{raw:s}},{headers:{Authorization:"Bearer ".concat(a)}});case 3:return c=t.sent,i=c.data,t.abrupt("return",nt(i));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"createIssueReaction",value:function(){var t=Object(a.a)(r.a.mark(function t(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.issueId,e.reaction,e.accessToken;case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"createCommentReaction",value:function(){var t=Object(a.a)(r.a.mark(function t(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.commentId,e.reaction,e.accessToken;case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),t}();function tt(t){return{username:t.username,avatar:t.links.avatar.href,homepage:t.links.html.href}}function et(t){return{id:t.id,title:t.title,content:t.content.raw,commentsCount:null}}function nt(t){return{id:t.id,content:t.content.html,contentRaw:t.content.raw,author:tt(t.user),createdAt:t.created_on,updatedAt:t.updated_on,reactions:null}}var st={name:"Vssue",components:{TransitionFade:o,VssueButton:h,VssueComment:C,VssueNewCommentInput:I,VssuePoweredBy:T,VssueStatusFailed:A,VssueStatusInitializing:L,VssueStatusRequireLogin:q},mixins:[R],props:{options:{type:Object,required:!0,validator:function(t){for(var e=["owner","repo","clientId","clientSecret"],n=0;n<e.length;n++){var s=e[n];if(!t.hasOwnProperty(s))return console.warn("[Vssue warn] option '".concat(s,"' is required")),!1}return!0}}},data:function(){return{vssue:null,comments:null,newComment:"",isInitializing:!1,isLoading:!1,isLoginRequired:!1,isFailed:!1}},computed:{config:function(){return{platform:(this.options.platform||"github").toLowerCase(),baseURL:this.options.baseURL,clientId:this.options.clientId,clientSecret:this.options.clientSecret,owner:this.options.owner,repo:this.options.repo,labels:this.options.labels||"Vssue",prefix:this.options.prefix||"[Vssue]",theme:this.options.theme||"default",state:this.options.stata||"Vssue"}},api:function(){return"github"===this.config.platform?new F(this.config):"gitlab"===this.config.platform?new J(this.config):"bitbucket"===this.config.platform?new X(this.config):void 0},themeClass:function(){return"vssue-theme-".concat(this.config.theme)},vssueTitle:function(){return this.config.prefix+document.title},vssueContent:function(){return k(window.location.href)}},created:function(){var t=Object(a.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.isInitializing=!0,this.accessToken=this.getAccessToken(),t.next=5,this.handleAuthorize();case 5:return t.next=7,this.getVssue();case 7:return t.next=9,this.getComments();case 9:t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),t.t0.response&&[401,403].includes(t.t0.response.status)&&(this.isLoginRequired=!0),this.isFailed=!0;case 15:return t.prev=15,this.isInitializing=!1,t.finish(15);case 18:case"end":return t.stop()}},t,this,[[0,11,15,18]])}));return function(){return t.apply(this,arguments)}}(),methods:{getVssue:function(){var t=Object(a.a)(r.a.mark(function t(){var e,n=this;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getIssues({accessToken:this.accessToken});case 2:if(e=t.sent,this.vssue=e.find(function(t){return t.title===n.vssueTitle})||null,this.vssue){t.next=11;break}if(this.isLogined||this.handleLogin(),this.isAdmin){t.next=8;break}throw Error("Failed to get Vssue");case 8:return t.next=10,this.api.createIssue({title:this.vssueTitle,content:this.vssueContent,accessToken:this.accessToken});case 10:this.vssue=t.sent;case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getComments:function(){var t=Object(a.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.getComments({issueId:this.vssue.id,accessToken:this.accessToken});case 2:this.comments=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),createComment:function(){var t=Object(a.a)(r.a.mark(function t(e){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.content,t.prev=1,this.isLoading=!0,t.next=5,this.api.createIssueComment({issueId:this.vssue.id,content:n,accessToken:this.accessToken});case 5:return t.next=7,this.getComments();case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:return t.prev=11,this.newComment="",this.isLoading=!1,t.finish(11);case 15:case"end":return t.stop()}},t,this,[[1,9,11,15]])}));return function(e){return t.apply(this,arguments)}}(),createCommentReaction:function(){var t=Object(a.a)(r.a.mark(function t(e){var n,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commentId,s=e.reaction,t.next=3,this.api.createCommentReaction({issueId:this.vssue.id,commentId:n,reaction:s,accessToken:this.accessToken});case 3:return t.next=5,this.getComments();case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),replyToComment:function(t){this.newComment=this.newComment.concat(t),this.$refs.newCommentInput.focus()}}},rt=(n(231),n(230),n(229),{name:"VssueDemo",components:{Vssue:Object(i.a)(st,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vssue",class:t.themeClass},[n("TransitionFade",[t.isInitializing?n("VssueStatusInitializing"):t.isLoginRequired?n("VssueStatusRequireLogin",{on:{login:t.handleLogin}}):t.isFailed?n("VssueStatusFailed"):n("div",[n("div",{staticClass:"vssue-header"},[n("span",[t._v(t._s(t.vssue.commentsCount)+" comments")])]),n("div",{staticClass:"vssue-body"},[n("div",{staticClass:"vssue-comments"},t._l(t.comments,function(e){return n("VssueComment",{key:e.id,attrs:{comment:e,"create-reaction":t.createCommentReaction},on:{reply:t.replyToComment}})}))]),n("div",{staticClass:"vssue-footer"},[n("div",{staticClass:"vssue-new-comment"},[n("div",{staticClass:"vssue-new-comment-body"},[n("VssueNewCommentInput",{ref:"newCommentInput",attrs:{disabled:!t.isLogined},model:{value:t.newComment,callback:function(e){t.newComment=e},expression:"newComment"}}),n("div",{staticClass:"vssue-new-comment-footer"},[n("VssuePoweredBy"),n("div",{staticClass:"vssue-new-comment-operations"},[n("VssueButton",{staticClass:"vssue-button-login",attrs:{type:t.isLogined?"default":"primary"},nativeOn:{click:function(e){t.isLogined?t.handleLogout():t.handleLogin()}}},[t._v("\n                  "+t._s(t.isLogined?"Logout":"Login with "+t.config.platform)+"\n                ")]),t.isLogined?n("VssueButton",{staticClass:"vssue-button-submit-comment",attrs:{type:"primary",disabled:""===t.newComment},nativeOn:{click:function(e){t.createComment({content:t.newComment})}}},[t._v("\n                  Submit comment\n                ")]):t._e()],1)],1)],1)])])])],1)],1)},[],!1,null,"36c236a1",null).exports},computed:{vssueOptions:function(){return{platform:"github",owner:"meteorlxy",repo:"vssue",clientId:"a1097b7751127c6d1194",clientSecret:"5c95e2f890b6a2b80dbda17656e9b1db9e87a07b"}}}}),at=Object(i.a)(rt,function(){var t=this.$createElement;return(this._self._c||t)("Vssue",{attrs:{options:this.vssueOptions}})},[],!1,null,null,null);e.default=at.exports}}]);